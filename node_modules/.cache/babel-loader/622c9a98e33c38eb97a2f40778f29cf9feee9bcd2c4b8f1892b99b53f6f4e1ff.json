{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\kchir\\\\Desktop\\\\creadit\\\\src\\\\components\\\\Auth.js\",\n  _s = $RefreshSig$();\nimport React, { useState } from 'react';\nimport { supabase } from '../utils/supabase';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst Auth = () => {\n  _s();\n  const [isLogin, setIsLogin] = useState(true);\n  const [email, setEmail] = useState('');\n  const [password, setPassword] = useState('');\n  const [otp, setOtp] = useState('');\n  const [loading, setLoading] = useState(false);\n  const [message, setMessage] = useState('');\n  const [showOtpInput, setShowOtpInput] = useState(false);\n  const validateEmail = email => {\n    const emailRegex = /^[^\\s@]+@[^\\s@]+\\.[^\\s@]+$/;\n    return emailRegex.test(email);\n  };\n  const handleAuth = async e => {\n    e.preventDefault();\n    setLoading(true);\n    setMessage('');\n    if (!validateEmail(email)) {\n      setMessage('Please enter a valid email address');\n      setLoading(false);\n      return;\n    }\n    try {\n      if (isLogin) {\n        const {\n          error\n        } = await supabase.auth.signInWithPassword({\n          email,\n          password\n        });\n        if (error) throw error;\n      } else {\n        const {\n          error\n        } = await supabase.auth.signUp({\n          email,\n          password\n        });\n        if (error) throw error;\n        setMessage('Check your email for the OTP code!');\n        setShowOtpInput(true);\n      }\n    } catch (error) {\n      setMessage(error.message);\n    } finally {\n      setLoading(false);\n    }\n  };\n  const handleOtpVerification = async e => {\n    e.preventDefault();\n    setLoading(true);\n    setMessage('');\n    try {\n      const {\n        error\n      } = await supabase.auth.verifyOtp({\n        email,\n        token: otp,\n        type: 'signup'\n      });\n      if (error) throw error;\n      setMessage('Email verified successfully! You can now login.');\n      setShowOtpInput(false);\n      setIsLogin(true);\n      setOtp('');\n    } catch (error) {\n      setMessage(error.message);\n    } finally {\n      setLoading(false);\n    }\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"auth-container\",\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"auth-card\",\n      children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n        children: isLogin ? 'Login' : 'Register'\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 72,\n        columnNumber: 9\n      }, this), !showOtpInput ? /*#__PURE__*/_jsxDEV(\"form\", {\n        onSubmit: handleAuth,\n        children: [/*#__PURE__*/_jsxDEV(\"input\", {\n          type: \"email\",\n          placeholder: \"Email (example@domain.com)\",\n          value: email,\n          onChange: e => setEmail(e.target.value),\n          required: true\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 76,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n          type: \"password\",\n          placeholder: \"Password (min 6 characters)\",\n          value: password,\n          onChange: e => setPassword(e.target.value),\n          minLength: 6,\n          required: true\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 83,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          type: \"submit\",\n          disabled: loading,\n          children: loading ? 'Loading...' : isLogin ? 'Login' : 'Register'\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 91,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 75,\n        columnNumber: 11\n      }, this) : /*#__PURE__*/_jsxDEV(\"form\", {\n        onSubmit: handleOtpVerification,\n        children: [/*#__PURE__*/_jsxDEV(\"p\", {\n          children: \"Enter the 6-digit code sent to your email:\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 97,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n          type: \"text\",\n          placeholder: \"Enter OTP Code\",\n          value: otp,\n          onChange: e => setOtp(e.target.value),\n          maxLength: 6,\n          required: true\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 98,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          type: \"submit\",\n          disabled: loading,\n          children: loading ? 'Verifying...' : 'Verify Email'\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 106,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          type: \"button\",\n          onClick: () => {\n            setShowOtpInput(false);\n            setOtp('');\n            setMessage('');\n          },\n          children: \"Back to Registration\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 109,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 96,\n        columnNumber: 11\n      }, this), message && /*#__PURE__*/_jsxDEV(\"p\", {\n        className: \"message\",\n        children: message\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 122,\n        columnNumber: 21\n      }, this), !showOtpInput && /*#__PURE__*/_jsxDEV(\"p\", {\n        children: [isLogin ? \"Don't have an account? \" : \"Already have an account? \", /*#__PURE__*/_jsxDEV(\"button\", {\n          type: \"button\",\n          className: \"link-btn\",\n          onClick: () => {\n            setIsLogin(!isLogin);\n            setMessage('');\n            setShowOtpInput(false);\n            setOtp('');\n          },\n          children: isLogin ? 'Register' : 'Login'\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 127,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 125,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 71,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 70,\n    columnNumber: 5\n  }, this);\n};\n_s(Auth, \"gLytndN2n/D9iSeXiKC0Hd4Y1LM=\");\n_c = Auth;\nexport default Auth;\nvar _c;\n$RefreshReg$(_c, \"Auth\");","map":{"version":3,"names":["React","useState","supabase","jsxDEV","_jsxDEV","Auth","_s","isLogin","setIsLogin","email","setEmail","password","setPassword","otp","setOtp","loading","setLoading","message","setMessage","showOtpInput","setShowOtpInput","validateEmail","emailRegex","test","handleAuth","e","preventDefault","error","auth","signInWithPassword","signUp","handleOtpVerification","verifyOtp","token","type","className","children","fileName","_jsxFileName","lineNumber","columnNumber","onSubmit","placeholder","value","onChange","target","required","minLength","disabled","maxLength","onClick","_c","$RefreshReg$"],"sources":["C:/Users/kchir/Desktop/creadit/src/components/Auth.js"],"sourcesContent":["import React, { useState } from 'react'\nimport { supabase } from '../utils/supabase'\n\nconst Auth = () => {\n  const [isLogin, setIsLogin] = useState(true)\n  const [email, setEmail] = useState('')\n  const [password, setPassword] = useState('')\n  const [otp, setOtp] = useState('')\n  const [loading, setLoading] = useState(false)\n  const [message, setMessage] = useState('')\n  const [showOtpInput, setShowOtpInput] = useState(false)\n\n  const validateEmail = (email) => {\n    const emailRegex = /^[^\\s@]+@[^\\s@]+\\.[^\\s@]+$/\n    return emailRegex.test(email)\n  }\n\n  const handleAuth = async (e) => {\n    e.preventDefault()\n    setLoading(true)\n    setMessage('')\n\n    if (!validateEmail(email)) {\n      setMessage('Please enter a valid email address')\n      setLoading(false)\n      return\n    }\n\n    try {\n      if (isLogin) {\n        const { error } = await supabase.auth.signInWithPassword({ email, password })\n        if (error) throw error\n      } else {\n        const { error } = await supabase.auth.signUp({ email, password })\n        if (error) throw error\n        setMessage('Check your email for the OTP code!')\n        setShowOtpInput(true)\n      }\n    } catch (error) {\n      setMessage(error.message)\n    } finally {\n      setLoading(false)\n    }\n  }\n\n  const handleOtpVerification = async (e) => {\n    e.preventDefault()\n    setLoading(true)\n    setMessage('')\n\n    try {\n      const { error } = await supabase.auth.verifyOtp({\n        email,\n        token: otp,\n        type: 'signup'\n      })\n      if (error) throw error\n      setMessage('Email verified successfully! You can now login.')\n      setShowOtpInput(false)\n      setIsLogin(true)\n      setOtp('')\n    } catch (error) {\n      setMessage(error.message)\n    } finally {\n      setLoading(false)\n    }\n  }\n\n  return (\n    <div className=\"auth-container\">\n      <div className=\"auth-card\">\n        <h2>{isLogin ? 'Login' : 'Register'}</h2>\n        \n        {!showOtpInput ? (\n          <form onSubmit={handleAuth}>\n            <input\n              type=\"email\"\n              placeholder=\"Email (example@domain.com)\"\n              value={email}\n              onChange={(e) => setEmail(e.target.value)}\n              required\n            />\n            <input\n              type=\"password\"\n              placeholder=\"Password (min 6 characters)\"\n              value={password}\n              onChange={(e) => setPassword(e.target.value)}\n              minLength={6}\n              required\n            />\n            <button type=\"submit\" disabled={loading}>\n              {loading ? 'Loading...' : (isLogin ? 'Login' : 'Register')}\n            </button>\n          </form>\n        ) : (\n          <form onSubmit={handleOtpVerification}>\n            <p>Enter the 6-digit code sent to your email:</p>\n            <input\n              type=\"text\"\n              placeholder=\"Enter OTP Code\"\n              value={otp}\n              onChange={(e) => setOtp(e.target.value)}\n              maxLength={6}\n              required\n            />\n            <button type=\"submit\" disabled={loading}>\n              {loading ? 'Verifying...' : 'Verify Email'}\n            </button>\n            <button \n              type=\"button\" \n              onClick={() => {\n                setShowOtpInput(false)\n                setOtp('')\n                setMessage('')\n              }}\n            >\n              Back to Registration\n            </button>\n          </form>\n        )}\n        \n        {message && <p className=\"message\">{message}</p>}\n        \n        {!showOtpInput && (\n          <p>\n            {isLogin ? \"Don't have an account? \" : \"Already have an account? \"}\n            <button \n              type=\"button\" \n              className=\"link-btn\"\n              onClick={() => {\n                setIsLogin(!isLogin)\n                setMessage('')\n                setShowOtpInput(false)\n                setOtp('')\n              }}\n            >\n              {isLogin ? 'Register' : 'Login'}\n            </button>\n          </p>\n        )}\n      </div>\n    </div>\n  )\n}\n\nexport default Auth"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}